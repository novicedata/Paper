# Grove

## Contents
### 📌 개요
### 📌 문제정의
### 📌 실험 설계
### 📌 실험 및 결과 확인
### 📌 결과

---

### 📌 개요

본 연구는 부스팅 모델의 개별 트리를 활용하여 부스팅 기반 적응 검사(Computerized Adaptive Testing, CAT)의 한계를 극복하고자 Grove 알고리즘을 제안한다. 기존 CAT은 IRT 기반 접근이 주류였지만, IRT는 단일 차원성, 지역 독립성 등의 가정을 필요로 하며 실제 환경에서 위배되는 경우가 많아 제한이 있었다. 이를 보완하기 위해 결정 트리 기반 CAT이 연구되었으나, 트리 기반 CAT은 과적합(overfitting), 초기 항목 노출 문제 및 유연성 부족 등의 한계를 가진다.

부스팅 기반 모델은 높은 예측 정확성을 제공하지만, 다수의 얕은 트리로 구성되어 구조 해석과 시각화가 어려워 CAT 적용에 한계가 있다. 이에 본 연구는 Grove 알고리즘을 통해 부스팅 모델을 소규모 깊은 트리의 부분집합으로 분해하여, 해석 가능성과 항목 노출 통제, CAT의 적응성을 동시에 확보하고자 하였다.

연구에서는 CatBoost 기반 부스팅 모델을 훈련 후 개별 트리로 분해하고, 트리의 조합(서브그룹)을 활용하여 Grove를 구성하여 다양한 CAT 시나리오에서 적용 가능성을 검증하였다. Grove는 다수의 서브트리를 기반으로 다양한 형태의 동등한 신뢰도를 갖는 테스트 폼을 생성하며, 과적합을 완화하고 항목 노출을 분산시켜 CAT의 효율성과 보안을 동시에 달성할 수 있다.

* **주요 활동**
  * 부스팅 알고리즘(Gradient Boosting, CatBoost)의 내부 구조와 CAT의 기본 메커니즘 확인
  * Grove 알고리즘 개발: 부스팅 모델의 개별 트리를 분해 후 서브그룹을 조합하여 CAT에 적용할 수 있는 구조로 설계
  * CatBoost 기반 Grove 구현: 실제 CatBoost 모델 학습 → 개별 트리 분해 → Grove 구성 → CAT 시뮬레이션 적용
  * 실제 데이터 적용 실험:
    * 인지 능력 테스트(VIQ) 데이터를 사용하여 Grove의 CAT 알고리즘 작동 방식 검증
    * 심리검사 데이터(TMAS) 및 의료 자격시험 데이터(KMLE)를 사용하여 Grove와 기존 DT 기반 CAT, CatBoost의 성능 비교
    * 시각화 및 분석: Grove 경로 시각화, ROC-AUC 및 정확도 비교, 항목 노출 및 개인별 경로 시뮬레이션, 과적합 비교 분석 수행
<br>

* **배운 것**
  * ML(특히, 부스팅) 알고리즘의 내부 구조와 코드 구조 심층적 이해
  * 모델 아키텍쳐 설계와 이를 코드로 구현하는 기술 습득
  * 사용 목적에 따른 모델 구조 설계 능력 향상
  * Python 프로그래밍 능력 향
<br>

---

### 📌 문제 정의

* **컴퓨터 적응형 검사**
  * 교육, 심리 평가, 자격 시험 등 다양한 분야에서 적은 문항으로 높은 측정 정확도를 확보하기 위해 필수적인 평가 방식으로 자리 잡았다. 전통적인 CAT은 문항 반응 이론(Item Response Theory, IRT) 기반으로 운영되며, 피검자의 잠재 능력에 맞는 문항을 순차적으로 선택해 효율성을 높인다.

* **기존 IRT 기반 CAT의 한계**
  * 단일 차원성(unidimensionality), 지역 독립성(local independence) 등의 가정이 필요하나, 실제 데이터는 이를 충족하지 못하는 경우가 많음.
  * 복잡한 파라미터 추정 및 모델 구축 과정으로 인해 적용의 유연성이 낮음.
    * 이 들을 해결하기 위해 결정 트리 기반 CAT(Decision Tree-based CAT)가 연구됨.
   
* **왜 해결해야 하는가?**
  * 1️⃣ 과적합(Overfitting): 트리가 훈련 데이터의 잡음까지 학습하여 새로운 데이터에서 일반화가 어려움.
  * 2️⃣ 초기 문항 노출 및 보안 문제: 트리가 고정된 루트 노드로 시작해 동일한 문항이 반복적으로 노출되어 보안과 공정성 문제가 발생.
  * 3️⃣ 유연성 부족: IRT 기반 CAT처럼 각 응답 이후 능력 추정을 갱신해 새로운 문항을 선택하는 구조가 아니며, 한번 구축된 트리는 고정된 경로로 진행되기 때문에 적응성이 제한됨.

* **해결방안**
  * 높은 예측 성능과 적응성 유지
  * 항목 노출 통제와 테스트 보안 강화
  * 과적합 완화 및 일반화 성능 확보
  * 다양한 형태의 테스트 폼 제공(Alternate-Form Tests)
  *

* **Grove 모델 제시**
  * 부스팅 모델은 여러 개의 약한 결정 트리를 조합하여 높은 예측 정확도를 달성할 수 있으나 구조가 복잡해 시각화와 해석이 어려우며,CAT에 필요한 ‘테스트 경로 구성’ 및 ‘문항 선택 로직’으로 사용하기 어렵다는 한계가 있었다.
  * 본 연구는 부스팅 모델의 ‘가산적(additive)’ 구조를 활용하여 모델을 개별 트리로 분해한 후, 이 트리들을 소규모 서브그룹으로 구성하여 CAT에 적용하는 Grove 알고리즘을 개발하였다.
    * **해결 전략**
      * ✅ 과적합 완화: 깊이 있는 트리의 서브그룹을 사용하여 소수의 항목으로도 높은 예측 정확도를 유지하며, 전체 모델에 비해 과적합을 방지함.
      * ✅ 테스트 보안 및 항목 노출 통제: 각 응시자에게 다른 트리 조합을 부여해 다양한 경로를 생성, 특정 문항의 반복 노출을 최소화.
      * ✅ 적응성 유지: 응답에 따라 트리 경로를 따라가며 개별화된 문항 경로를 제공하여 CAT의 적응적 문항 선택 특성을 유지.
      * ✅ 다양한 테스트 폼 제공: 부스팅 모델로부터 다수의 Grove 구성이 가능해 다양한 형태의 동등한 신뢰도의 테스트 폼 생성 가능.

![image](https://github.com/user-attachments/assets/d15cc304-f86e-47c4-9c5a-2260907b38ca)

---

### 📌 실험 설계

* 1️⃣ **Feasibility Test (적용 가능성 검증)**
  * Grove가 CAT처럼 응답 기반 적응적 문항 제공이 가능한지 확인.
  * IQ 데이터(45문항, 11,502명) 를 사용해 Grove로 CAT 시뮬레이션 수행.
  * 응답에 따라 경로와 문항이 달라지고, 중복 문항 재응시는 생략되는지를 확인.
 
* 2️⃣ **Performance Comparison (성능 비교 실험)**
  * Grove, DT 기반 CAT, CatBoost를 비교하여 예측 정확도(ROC-AUC, Accuracy), 효율성, 과적합 방지 여부 평가.
  * TMAS(50문항, 다중분류), KMLE(360문항, 이진분류) 데이터 사용.
  * Grove는 부스팅 모델을 학습 후 개별 트리(3~4개)를 조합해 구성, 다양한 테스트 폼 생성 가능 여부와 성능을 함께 검증.
 
* **핵심 비교 항목**
  * ✅ CAT의 적응적 문항 제공 가능 여부
  * ✅ 예측 성능 (ROC-AUC, Accuracy)
  * ✅ 응시 문항 수 절감 및 보안성 (항목 노출 분산)
  * ✅ 과적합 방지 및 일반화 가능성
  * ✅ 다양한 테스트 폼(Alternate-Form) 제공 가능 여부

---

### 📌 실험 및 결과 확인

* **시행 방식**
  * Grove, DT 기반 CAT, CatBoost 모델을 각각 동일 데이터셋으로 평가하여 성능 및 효율성을 비교.
  * VIQ(인지능력), TMAS(심리검사), KMLE(의료자격시험) 데이터를 사용해 이진/다중 분류 상황 모두에서 검증.
  * Grove는 부스팅 모델 → 트리 분해 → 3~4개 트리 조합으로 Grove 구성 후, CAT처럼 응답 기반으로 문항을 제공해 평가.
 
* **데이터셋 및 기준**
  * ✅ VIQ (45문항, 11,502명): Grove의 CAT 적용 가능성 확인
  * ✅ TMAS (50문항, 다중 분류), KMLE (360문항, 이진 분류): 성능 비교 및 효율성 검증
  * ✅ 평가지표: ROC-AUC, Accuracy, 응시 문항 수, 과적합 여부, alternate-form 가능성


![image](https://github.com/user-attachments/assets/66053c00-a0e7-48ad-845f-3e83925faf0b)
![image](https://github.com/user-attachments/assets/a62e2f81-1710-471a-8c8e-778a5a2e1b7f)


* **주요 결과**
  * ✅ **적용 가능성 (Feasibility Test)**
    * Grove는 CAT처럼 응답 기반으로 경로 및 문항이 개별화되어 제공되며, 중복 문항 재제공 없이 진행 가능.
    * 동일 문항에 대한 이전 응답 활용 → 실제 응시 문항 수 절감.

  * ✅ **성능 비교 (Performance Test)**
    * 테스트셋에서 Grove가 DT 기반 CAT보다 높은 ROC-AUC, 유사한 Accuracy를 달성, CatBoost 모델 성능에 근접.
    * Grove의 성능은 트리 수가 3~4개 이상으로 증가할수록 안정적으로 향상.
    * Grove는 트리 조합별 다양한 테스트 폼 생성 가능, 보안성을 높이면서 alternate-form tests 제공 가능.

  * ✅ **효율성 및 과적합**
    * Grove는 부스팅의 장점(예측력)을 유지하면서도 과적합이 적고 일반화 성능이 우수.
    * 응시자별 경로 차이로 문항 노출 분산 및 보안성 강화.
   
---

### 📌 결론

본 연구에서는 Grove 알고리즘이 CAT(Computerized Adaptive Testing)에 적용 가능하며, 기존 DT 기반 CAT 및 부스팅 모델 대비 강점을 가질 수 있음을 실험적으로 검증하였다.

* ✅ CAT의 핵심 기능(응답 기반 적응적 문항 제공)을 Grove가 효과적으로 구현하며, 테스트 경로가 개인별로 달라지고 문항이 중복 없이 효율적으로 제공됨을 확인.
* ✅ 성능 측면에서 Grove는 DT 기반 CAT 대비 높은 ROC-AUC, 유사한 Accuracy를 유지, CatBoost 모델의 성능에 근접함.
* ✅ 트리 조합별 다양한 테스트 폼 생성 가능, 항목 노출 분산 및 보안 강화, alternate-form tests 제공 가능성 확인.
* ✅ 과적합 방지 및 일반화 성능 확보, 부스팅 기반의 예측력을 유지하면서 효율적 평가 가능.

**한계 및 향후 연구 방향**

* 🔸 현재 Grove의 hyperparameter 최적화, 트리 개수 및 깊이 설정에 따른 성능 변화, 항목 다양성 조절 등의 고도화 연구가 필요.
* 🔸 다양한 시험 유형과 데이터셋에 대한 적용 가능성을 확장하고, 실제 응시 환경에서의 Grove 운영 방안을 구체화할 예정.
* 🔸 향후 Grove 기반 CAT을 라이브 서비스 수준으로 확장하기 위해 자동 파이프라인 구축, 시각화 도구, 항목 노출 통제 알고리즘 개발을 진행할 계획.
